<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileEcho - File Manager Web GUI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-network-wired"></i>
                    <span class="logo-text">FileEcho</span>
                    <span class="badge rounded-pill bg-primary">v1.0.3</span>
                </div>
            </div>

            <div class="sidebar-scroll">
                <div class="panel info-panel">
                    <div class="panel-header">
                        <i class="fas fa-chart-pie"></i> File Info
                    </div>
                    <div class="info-content">
                        <div class="info-item" title="Current Path">
                            <i class="fas fa-folder-open"></i>
                            <span id="current-path" class="text-ellipsis">No path selected</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-file-alt"></i>
                            <span id="file-count">0</span> Files
                        </div>
                        <div class="info-item">
                            <i class="fas fa-hdd"></i>
                            <span id="total-size">0 B</span>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-search"></i> Target Address
                    </div>
                    <div class="input-group-compact d-flex gap-2">
                        <input type="text" id="directory-path" class="form-control-compact" placeholder="Absolute path...">
                        <button id="scan-btn" class="btn btn-primary btn-sm btn-icon-only">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-sliders-h"></i> Settings
                    </div>
                    <div class="settings-grid">
                        <div class="setting-row">
                            <label for="max-depth">Max Depth</label>
                            <input type="number" id="max-depth" value="-1" min="-1" class="form-control-compact">
                        </div>
                        <div class="setting-row">
                            <label for="exclude-patterns">Excludes</label>
                            <input type="text" id="exclude-patterns" placeholder="node_modules, .git" class="form-control-compact">
                        </div>
                        <div class="setting-row checkbox-row">
                            <input type="checkbox" id="show-size" checked>
                            <label for="show-size">Show Size</label>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-trash-alt"></i> Cleanup
                    </div>
                    <div class="d-grid gap-2">
                        <button id="clear-btn" class="btn btn-sm btn-outline-secondary">
                            <i class="fas fa-broom"></i> Clear Results
                        </button>
                        <button id="clear-all-btn" class="btn btn-sm btn-outline-danger">
                            <i class="fas fa-trash"></i> Reset All Data
                        </button>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button id="github-btn" class="btn btn-github w-100">
                    <i class="fab fa-github"></i> View on GitHub
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <header class="top-bar">
                <div class="top-bar-left">
                    <button id="sidebar-toggle-btn" class="toggle-btn-main">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div class="top-bar-right">
                    <div class="status-bar">
                        <span id="status-indicator" class="status-indicator active"></span>
                        <span id="server-status">Connected</span>
                        <span id="api-status" class="api-version"></span>
                    </div>
                </div>
            </header>

            <div class="content-split">
                <!-- Left: Tree View -->
                <section class="split-column tree-section">
                    <div class="column-header">
                        <h3><i class="fas fa-stream"></i> File Tree</h3>
                    </div>
                    <div class="tree-viewport">
                        <pre id="tree-output">Enter path in sidebar and scan.</pre>
                    </div>
                    <div class="column-actions-bar">
                        <button id="generate-tree-btn" class="btn btn-outline-secondary btn-sm flex-fill">
                            <i class="fas fa-sync"></i> Refresh
                        </button>
                        <button id="copy-btn" class="btn btn-outline-secondary btn-sm flex-fill">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                        <button id="download-btn" class="btn btn-outline-secondary btn-sm flex-fill">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                </section>

                <!-- Resizer -->
                <div id="resizer" class="resizer"></div>

                <!-- Right: File List -->
                <section class="split-column list-section">
                    <div class="column-header">
                        <h3><i class="fas fa-list"></i> File Details</h3>
                        <div class="filter-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="list-filter" placeholder="Filter current list (Press Enter to prune tree)...">
                        </div>
                    </div>
                    <div class="table-viewport">
                        <table class="table table-sm table-hover sticky-header">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Size</th>
                                    <th>Depth</th>
                                </tr>
                            </thead>
                            <tbody id="file-table-body">
                                <tr>
                                    <td colspan="4" class="empty-message">No files scanned yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <div id="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>